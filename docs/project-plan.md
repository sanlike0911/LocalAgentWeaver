# LocalAgentWeaver プロジェクト開発計画・進捗管理

## プロジェクト概要
ローカル環境で動作するLLM（Ollama/LM Studio）と連携し、チームでのドキュメントベースの対話やアイデア創出を支援する、セキュアなAIエージェントプラットフォーム。

## 開発ロードマップ

開発完了時に進捗管理として、以下に完了をマークすること。

### ■ MVP（最小実用製品） - 目標期間: 2-3週間

#### プロジェクト構造・環境構築
- [x] 1. プロジェクト構造とDocker環境の初期セットアップ ✅ **完了**
- [x] 2. CI/CDパイプラインの初期設定 ✅ **完了**

#### バックエンド開発
- [x] 3. 認証機能: ユーザー登録/ログインAPI (JWT発行) ✅ **完了**
- [x] 4. プロジェクト管理機能: プロジェクトのCRUD API ✅ **完了**
- [x] 5. 基本チャット機能: Ollama/LMStudioへのプロキシAPI、履歴保存機能 ✅ **完了**
- [x] 6. LLMモデル管理API: モデル一覧取得、インストール、削除、進行状況確認API ✅ **完了**

#### フロントエンド開発
- [x] 7. 認証画面 (LAW-SC-010)、プロジェクト一覧画面 (LAW-SC-100) ✅ **完了**
- [x] 8. 基本メイン画面 (LAW-SC-200): シンプルなチャットUIのみ実装 ✅ **完了**
- [x] 9. ModelSelectorコンポーネント: 未インストールモデルの自動インストール機能 ✅ **完了**
- [x] 10.リダイレクト機能（未ログインは、必ずログイン画面にリダイレクト） ✅ **完了**

#### 開発ツール
- [x] 10. セットアップスクリプト (setup-dev.sh) の作成  ✅ **完了**

### ■ PHASE 1: コア機能実装 - 目標期間: 3-4週間

#### バックエンド高度機能
- [x] 11. チーム・エージェント管理機能: CRUD API、プリセット定義 ✅ **完了**
- [x] 12. ドキュメント処理: ファイルアップロードAPI (PDF, TXT, MD)、ベクトル化 ✅ **完了**
- [x] 13. RAG機能: アップロードされたドキュメントをコンテキストとして利用するAPI ✅ **完了**

#### フロントエンド高度機能
- [x] 14. チーム管理UI: チーム選択・編集モーダル (LAW-SC-215, LAW-SC-210) ✅ **完了**
- [x] 15. ドキュメント管理UI: ファイルアップロード、有効/無効切り替えUI ✅ **完了**
- [x] 16. LLMモデル切替UI: チャット画面からリアルタイムでモデルを切り替える機能 ✅ **完了**
- [x] 17. 応答時間表示機能: チャット入力からLLMの応答が完了するまでの経過時間を「TIME（応答時間：X秒）」形式で表示 ✅ **完了**

### ■ PHASE 2: 高度な機能実装 - 目標期間: 4-5週間

#### 共有・コラボレーション機能
- [ ] 18. プロジェクト共有機能: ユーザー間でのプロジェクト共有、権限管理API
- [ ] 19. 高度なチャット機能: 応答に対する出典・引用元の特定API

#### UI/UX改善
- [ ] 20. 共有機能UI: プロジェクト共有設定画面、共有されたプロジェクト一覧
- [ ] 21. 引用表示UI: チャット応答に出典元ドキュメントへのリンクやハイライトを表示
- [ ] 22. レスポンシブデザイン対応、ダークモード実装、アクセシビリティ向上

### ■ PHASE 3: 企業グレード機能 - 目標期間: 3-4週間

#### パフォーマンス・運用・セキュリティ
- [ ] 23. DBクエリ最適化、Redisによるキャッシング戦略の導入
- [ ] 24. 構造化ログ管理システムの導入、エラー監視、ヘルスチェックAPI
- [ ] 25. ファイルアップロードのセキュリティスキャン、APIレート制限強化

## 技術スタック

### バックエンド
- **フレームワーク**: Python, FastAPI
- **データベース**: PostgreSQL
- **キャッシュ**: Redis
- **テスト**: Pytest

### フロントエンド
- **フレームワーク**: TypeScript, React, Next.js
- **UIライブラリ**: Tailwind CSS, Shadcn/ui
- **テスト**: Jest/Playwright

### インフラ
- **コンテナ化**: Docker, Docker Compose
- **LLM実行環境**: Ollama / LM Studio (設定により切替可能)

## 開発指針

### テスト駆動開発（TDD）
- 機能実装前にテストコードを作成
- 高いコードカバレッジを維持
- 継続的な品質保証

### セキュリティ
- JWT認証によるセキュアなAPI
- ファイルアップロードのMIMEタイプ検証
- CORS設定とレート制限
- ユーザー入力のサニタイズ・バリデーション

### パフォーマンス
- 構造化ログの出力
- リクエストID付与による処理追跡
- Redisキャッシング活用
- DBクエリ最適化

## 進捗状況

**現在の状況**: 🎉 **PHASE 1 開発フェーズ完了** - PHASE 2 高度機能実装準備中

**完了済みタスク**: 
- ✅ プロジェクト構造とDocker環境の初期セットアップ
- ✅ CI/CDパイプラインの初期設定
- ✅ 認証機能: ユーザー登録/ログインAPI (JWT発行)
- ✅ プロジェクト管理機能: プロジェクトのCRUD API
- ✅ 基本チャット機能: Ollama/LMStudioへのプロキシAPI
- ✅ LLMモデル管理API: モデル一覧取得、インストール、削除、進行状況確認API
- ✅ 認証画面 (LAW-SC-010)、プロジェクト一覧画面 (LAW-SC-100)
- ✅ 基本メイン画面 (LAW-SC-200): 3カラムレイアウトチャットUI
- ✅ ModelSelectorコンポーネント: 未インストールモデルの自動インストール機能
- ✅ リダイレクト機能（未ログインは、必ずログイン画面にリダイレクト）
- ✅ セットアップスクリプト (setup-dev.sh) の作成
- ✅ NVIDIA Container Toolkitのインストール手順追加 (GPU最適化対応)
- ✅ チーム・エージェント管理機能: CRUD API、プリセット定義
- ✅ ドキュメント処理: ファイルアップロードAPI (PDF, TXT, MD)、ベクトル化
- ✅ RAG機能: アップロードされたドキュメントをコンテキストとして利用するAPI
- ✅ チーム管理UI: チーム選択・編集モーダル (LAW-SC-215, LAW-SC-210)
- ✅ ドキュメント管理UI: ファイルアップロード、有効/無効切り替えUI
- ✅ LLMモデル切替UI: チャット画面からリアルタイムでモデルを切り替える機能

**次のマイルストーン**: PHASE 2 - プロジェクト共有機能、高度なチャット機能、UI/UX改善

---

*最終更新: 2025-08-21*