## **NodebookLM 画面仕様書(r1)**

### 1. はじめに

#### 1.1. 本書の位置づけ
本書は、nodebookLM風のシステムを移植するために参照するドキュメントである。このシステムは、LLM（大規模言語モデル）を活用したアイデア整理・ノート作成ツール「NodebookLM」の画面設計および基本的な動作を定義するものである。開発者、デザイナー、プロジェクト関係者間の共通認識を形成することを目的とする。

#### 1.2. NodebookLMコンセプト
NodebookLMは、断片的なアイデアや情報を「ノード」として視覚的に配置し、それらを自由につなぎ合わせることで、思考を構造化・発展させるためのノートアプリである。強力なAIアシスタント機能を統合し、アイデア出しから文章作成、情報整理までをシームレスに支援する。

#### 1.3. ターゲットユーザー
*   **クリエイター、研究者、プランナー:** アイデアのブレインストーミングや構想整理を行いたい人
*   **ライター、ブロガー:** 記事の構成案作成や執筆を行いたい人
*   **学生、学習者:** 講義ノートや学習内容を体系的にまとめたい人
*   **プロジェクトマネージャー:** タスクや情報の関係性を可視化したい人

#### 1.4. 主要機能一覧
*   **ノートブック管理:** 複数のノートブックを作成・管理する機能
*   **キャンバス編集:** ノード（テキスト、画像、コード等）を自由に配置し、線でつなぐ機能
*   **ノード編集:** WYSIWYGエディタによるリッチなテキスト編集機能
*   **AIアシスタント:** 文章生成、要約、ブレインストーミング、翻訳、校正など、LLMを活用した各種支援機能
*   **検索機能:** ノートブック全体を対象とした全文検索機能

---

### 2. システム全体構成

#### 2.1. 画面構成図
```
                                +---------------------------+
                                |                           |
[未ログイン] ---[トップページ]--->|  新規登録 / ログイン画面  |
                                |                           |
                                +-------------+-------------+
                                              | (認証成功)
                                              |
                          +-------------------v-------------------+
                          |                                       |
                          | ダッシュボード (ノートブック一覧画面) |
                          |                                       |
                          +-------------------+-------------------+
                                              | (ノートブック選択/新規作成)
                                              |
           +----------------------------------v----------------------------------+
           |                                                                    |
           |                          ノート編集画面                            |
           |                                                                    |
           |   +-------------------------------------------------------------+  |
           |   |                                                             |  |
           |   |                        キャンバスエリア                       |  |
           |   |                                                             |  |
           |   +-------------------------------------------------------------+  |
           |                                                                    |
           +----------------------------------^----------------------------------+
                                              | (各種設定)
                                              |
                                +-------------v-------------+
                                |                           |
                                |    アカウント設定画面     |
                                |                           |
                                +---------------------------+
```

#### 2.2. 共通レイアウト要素
*   **ヘッダー（ノート編集画面で表示）**
    *   **左側:**
        *   サービスロゴ / ダッシュボードへ戻るボタン
        *   現在のノートブック名（クリックで名称変更可能）
    *   **右側:**
        *   共有ボタン
        *   検索ボタン
        *   アカウントメニュー（アイコン）：アカウント設定、ログアウトへのリンク

---

### 3. 各画面仕様

#### 3.1. ダッシュボード（ノートブック一覧）画面
*   **画面ID:** `NB-SC-100`
*   **URL:** `/dashboard`
*   **概要:** ユーザーが作成したノートブックを一覧表示し、新規作成や既存ノートブックの編集を開始するための起点となる画面。

*   **ワイヤーフレーム/レイアウト:**
    ```
    +-----------------------------------------------------------------+
    | ヘッダー (アカウントメニュー)                                   |
    +-----------------------------------------------------------------+
    |                                                                 |
    | [ + 新しいノートブックを作成 ] (ボタン)                         |
    |                                                                 |
    | -------------------- (区切り線) --------------------            |
    |                                                                 |
    | [検索バー: ノートブックを検索...]                               |
    |                                                                 |
    | [ノートブックカード1]  [ノートブックカード2]  [ノートブックカード3]  |
    |  - タイトル          - タイトル          - タイトル             |
    |  - 最終更新日時      - 最終更新日時      - 最終更新日時         |
    |  - (プレビュー)      - (プレビュー)      - (プレビュー)         |
    |                                                                 |
    | [ノートブックカード4]  [ノートブックカード5]  ...                |
    |                                                                 |
    +-----------------------------------------------------------------+
    ```

*   **コンポーネント詳細:**
    *   **新しいノートブックを作成ボタン:**
        *   **アクション:** クリックすると、新しいノートブックが作成され、自動的にノート編集画面（NB-SC-200）に遷移する。
    *   **ノートブックカード:**
        *   **表示内容:** ノートブックのタイトル、最終更新日時、内容のプレビュー（サムネイル）。
        *   **アクション:**
            *   クリックすると、該当のノート編集画面（NB-SC-200）に遷移する。
            *   カード右上の「...」メニューから「名称変更」「削除」が可能。

#### 3.2. ノート編集画面
*   **画面ID:** `NB-SC-200`
*   **URL:** `/notebooks/{notebook_id}`
*   **概要:** NodebookLMのコア機能。キャンバス上でノードを操作し、思考を整理・構築する画面。

*   **ワイヤーフレーム/レイアウト:**
    ```
    +-----------------------------------------------------------------+
    | ヘッダー ([<] [ノートブック名] | [共有] [検索] [アカウント])    |
    +-----------------------------------------------------------------+
    |                                                                 |
    | [ツールバー: ノード追加(+), AIアシスタント(✨), ... ]            |
    |                                                                 |
    |                                                                 |
    |   +---------------------------------------------------------+   |
    |   |                                                         |   |
    |   |                キャンバスエリア                           |   |
    |   |                                                         |   |
    |   |  +----------------+                                     |   |
    |   |  |   ノードA      |                                     |   |
    |   |  +-------+--------+                                     |   |
    |   |          | (接続線)                                     |   |
    |   |  +-------+--------+      +----------------+             |   |
    |   |  |   ノードB      |------|   ノードC      |             |   |
    |   |  +----------------+      +----------------+             |   |
    |   |                                                         |   |
    |   +---------------------------------------------------------+   |
    |                                                                 |
    | [フッター: ズームコントローラー (+/-), ミニマップ]                |
    +-----------------------------------------------------------------+
    ```

*   **コンポーネント詳細:**
    *   **ツールバー:**
        *   **ノード追加ボタン (+):** クリックすると、キャンバス中央に新しいテキストノードを生成する。
        *   **AIアシスタントボタン (✨):** クリックすると、AIアシスタントパネルを開く。
    *   **キャンバスエリア:**
        *   **背景:** 無限に広がるグリッド状の背景。
        *   **操作:**
            *   **スクロール:** 画面の移動。
            *   **ピンチイン/アウト（トラックパッド） or Ctrl+スクロール:** ズームイン/アウト。
            *   **ダブルクリック:** その位置に新しいノードを作成する。
    *   **ノード:**
        *   **構成:** タイトルと本文エリアからなるカード状の要素。
        *   **操作:**
            *   **ドラッグ＆ドロップ:** 位置を自由に移動できる。
            *   **リサイズ:** ノードの端をドラッグして大きさを変更できる。
            *   **接続:** ノードの境界線からドラッグを開始すると、他のノードに接続する線（コネクタ）を引ける。
            *   **右クリック:** コンテキストメニューを表示する（後述）。
    *   **コンテキストメニュー（ノードを右クリック）:**
        *   **メニュー項目:**
            *   `AIに依頼する...`: AIアシスタント機能を直接呼び出すサブメニュー。
                *   `この続きを生成`
                *   `要約する`
                *   `アイデアを5つ出す`
                *   `文章を校正する`
                *   `日本語に翻訳`
            *   `コピー`
            *   `複製`
            *   `削除`
            *   `色を変更`
    *   **AIアシスタントパネル（モーダル or サイドパネル）:**
        *   **概要:** ユーザーがプロンプトを入力し、AIからの応答を得るためのインターフェース。
        *   **構成:**
            *   **プロンプト入力エリア:** 自由なテキストでAIに指示を入力する。
            *   **機能選択ボタン:** 「要約」「ブレスト」「翻訳」「構造化」など、よく使う機能をワンクリックで実行できる。
            *   **コンテキスト選択:**
                *   「選択中のノードを対象」
                *   「キャンバス全体を対象」など、AIが参照する情報の範囲を選択できる。
            *   **生成結果表示エリア:** AIの応答が表示される。
            *   **アクションボタン:**
                *   `新しいノードとして追加`: 生成結果を新規ノードとしてキャンバスに追加する。
                *   `コピー`: 生成結果をクリップボードにコピーする。

---

### 4. 補足事項

#### 4.1. レスポンシブデザイン
*   本仕様書はデスクトップPCでの利用を主眼に置いている。
*   タブレット端末では主要機能が利用可能であることを目指す。スマートフォンでは閲覧を主とし、編集機能は限定的に提供する。

#### 4.2. アクセシビリティ
*   キーボード操作（Tabキーでのフォーカス移動、Enterキーでの決定など）をサポートする。
*   テキストや背景のコントラスト比は、WCAG 2.1の達成基準AAを満たすように配慮する。

---
